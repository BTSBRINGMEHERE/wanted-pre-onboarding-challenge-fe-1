# just do it! í•  ì¼ ì–´

- [just do it!](#just-do-it)
  - [just do it ì†Œê°œ ì˜ìƒ](#just-do-it-ì†Œê°œ-ì˜ìƒ)
  - [ì„¤ì¹˜, ì‹¤í–‰ ë°©ë²•](#ì„¤ì¹˜-ì‹¤í–‰-ë°©ë²•)
    - [ì„¤ì¹˜](#ì„¤ì¹˜)
    - [ì‹¤í–‰](#ì‹¤í–‰)
  - [êµ¬í˜„ ìš”êµ¬ì‚¬í•­](#êµ¬í˜„-ìš”êµ¬ì‚¬í•­)
    - [Assignment 1 - Login / SignUp](#assignment-1---login--signup)
    - [Assignment 2 - Todo List](#assignment-2---todo-list)
  - [ì‚¬ìš©í•œ í”„ë ˆì„ì›Œí¬ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ëª…](#ì‚¬ìš©í•œ-í”„ë ˆì„ì›Œí¬-ë°-ë¼ì´ë¸ŒëŸ¬ë¦¬-ì„¤ëª…)
  - [í´ë” êµ¬ì¡° ì„¤ëª…](#í´ë”-êµ¬ì¡°-ì„¤ëª…)
  - [ê³¼ì œ ì§„í–‰ ì‹œ ê³ ë¯¼í•œ ë¶€ë¶„](#ê³¼ì œ-ì§„í–‰-ì‹œ-ê³ ë¯¼í•œ-ë¶€ë¶„)
    - [ì—ëŸ¬ ì²˜ë¦¬](#ì—ëŸ¬-ì²˜ë¦¬)
    - [React Query ì‚¬ìš©í•˜ì—¬ API í˜¸ì¶œí•˜ê¸°](#react-query-ì‚¬ìš©í•˜ì—¬-api-í˜¸ì¶œí•˜ê¸°)
      - [React Queryë¡œ API í˜¸ì¶œí•˜ëŠ” ì»¤ìŠ¤í…€ í›… ë§Œë“¤ê¸°](#react-queryë¡œ-api-í˜¸ì¶œí•˜ëŠ”-ì»¤ìŠ¤í…€-í›…-ë§Œë“¤ê¸°)
    - ["ì‚¬ìš©ì ì•¡ì…˜ì— ë”°ë¥¸ ì ì ˆí•œ í”¼ë“œë°± (UI / UX)" ì ìš©í•´ë³´ê¸°](#ì‚¬ìš©ì-ì•¡ì…˜ì—-ë”°ë¥¸-ì ì ˆí•œ-í”¼ë“œë°±-ui--ux-ì ìš©í•´ë³´ê¸°)
    - [ëª…ë ¹í˜• í”„ë¡œê·¸ë˜ë° -> ì„ ì–¸ì  í”„ë¡œê·¸ë˜ë° ì ìš©í•´ë³´ê¸°](#ëª…ë ¹í˜•-í”„ë¡œê·¸ë˜ë°---ì„ ì–¸ì -í”„ë¡œê·¸ë˜ë°-ì ìš©í•´ë³´ê¸°)
      - [ProtectRouterë¥¼ ì„ ì–¸ì ìœ¼ë¡œ ë§Œë“¤ì–´ë³´ê¸°](#protectrouterë¥¼-ì„ ì–¸ì ìœ¼ë¡œ-ë§Œë“¤ì–´ë³´ê¸°)
    - ["ì ì ˆíˆ ì¶”ìƒí™” ë˜ì§€ ì•Šì€ í•¨ìˆ˜ì™€ ì»´í¬ë„ŒíŠ¸" ë¶€ë¶„ ì ìš©í•´ë³´ê¸°](#ì ì ˆíˆ-ì¶”ìƒí™”-ë˜ì§€-ì•Šì€-í•¨ìˆ˜ì™€-ì»´í¬ë„ŒíŠ¸-ë¶€ë¶„-ì ìš©í•´ë³´ê¸°)
      - [useFetchë¥¼ ë§Œë“¤ì–´ì„œ ë¹„ë™ê¸° í†µì‹  ì½”ë“œ ì¤‘ë³µ ì¤„ì´ê¸°](#usefetchë¥¼-ë§Œë“¤ì–´ì„œ-ë¹„ë™ê¸°-í†µì‹ -ì½”ë“œ-ì¤‘ë³µ-ì¤„ì´ê¸°)
      - [useCotrolTodoFormì—ì„œ form ê²€ì¦ ì½”ë“œ ì œê±°í•˜ê¸°](#usecotroltodoformì—ì„œ-form-ê²€ì¦-ì½”ë“œ-ì œê±°í•˜ê¸°)
      - [FormContainerì— Headless UI ê°œë… ì ìš©í•´ë³´ê¸°](#formcontainerì—-headless-ui-ê°œë…-ì ìš©í•´ë³´ê¸°)
    - [ê¸°íƒ€](#ê¸°íƒ€)
      - [ì™œ response.json()ì€ ì™œ anyì¼ê¹Œìš”?](#ì™œ-responsejsonì€-ì™œ-anyì¼ê¹Œìš”)
      - [\<T extends unknown\>ì€ ì™œ ì‚¬ìš©í• ê¹Œ?](#t-extends-unknownì€-ì™œ-ì‚¬ìš©í• ê¹Œ)
  - [í•œê³„ì  ë° ê°œì„  ì‚¬í•­](#í•œê³„ì -ë°-ê°œì„ -ì‚¬í•­)
  - [ìê¸° ì†Œê°œ](#ìê¸°-ì†Œê°œ)
  - [ë¶€ë¡](#ë¶€ë¡)

## just do it ì†Œê°œ ì˜ìƒ

[ì†Œê°œì˜ìƒ](https://youtu.be/SJkU0z8lTgE)

## ì„¤ì¹˜, ì‹¤í–‰ ë°©ë²•

### ì„¤ì¹˜

ë£¨íŠ¸ í´ë”ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”. ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ íŒ¨í‚¤ì§€ê°€ ëª¨ë‘ ì„¤ì¹˜ë©ë‹ˆë‹¤.

```shell
$ npm run install
```

### ì‹¤í–‰

ë™ì‹œ ì‹¤í–‰ì´ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. í„°ë¯¸ë„ì„ ì—´ê³  ê°ê° ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”. ì‹¤í–‰ ìˆœì„œëŠ” ê´€ê³„ ì—†ìŠµë‹ˆë‹¤.

- í´ë¼ì´ì–¸íŠ¸ ì‹¤í–‰
  - ë„ë©”ì¸ : http://localhost:3000

```shell
$ npm run client

Compiled successfully!
```

- ì„œë²„ ì‹¤í–‰
  - ë„ë©”ì¸ : http://localhost:8080

```shell
$ npm run server

Now listening on port 8080
```

## êµ¬í˜„ ìš”êµ¬ì‚¬í•­

### Assignment 1 - Login / SignUp

- /auth ê²½ë¡œì— ë¡œê·¸ì¸ / íšŒì›ê°€ì… ê¸°ëŠ¥ì„ ê°œë°œí•©ë‹ˆë‹¤
  - ë¡œê·¸ì¸, íšŒì›ê°€ì…ì„ ë³„ë„ì˜ ê²½ë¡œë¡œ ë¶„ë¦¬í•´ë„ ë¬´ë°©í•©ë‹ˆë‹¤
  - [x] ìµœì†Œí•œ ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸ input, ì œì¶œ buttonì„ ê°–ë„ë¡ êµ¬ì„±í•´ì£¼ì„¸ìš”
- ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ì˜ ìœ íš¨ì„±ì„ í™•ì¸í•©ë‹ˆë‹¤
  - [x] ì´ë©”ì¼ ì¡°ê±´ : ìµœì†Œ `@`, `.` í¬í•¨
  - [x] ë¹„ë°€ë²ˆí˜¸ ì¡°ê±´ : 8ì ì´ìƒ ì…ë ¥
  - [x] ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ê°€ ëª¨ë‘ ì…ë ¥ë˜ì–´ ìˆê³ , ì¡°ê±´ì„ ë§Œì¡±í•´ì•¼ ì œì¶œ ë²„íŠ¼ì´ í™œì„±í™” ë˜ë„ë¡ í•´ì£¼ì„¸ìš”
- ë¡œê·¸ì¸ APIë¥¼ í˜¸ì¶œí•˜ê³ , ì˜¬ë°”ë¥¸ ì‘ë‹µì„ ë°›ì•˜ì„ ë•Œ ë£¨íŠ¸ ê²½ë¡œë¡œ ì´ë™ì‹œì¼œì£¼ì„¸ìš”
  - [x] ì‘ë‹µìœ¼ë¡œ ë°›ì€ í† í°ì€ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•´ì£¼ì„¸ìš”
  - [x] ë‹¤ìŒ ë²ˆì— ë¡œê·¸ì¸ ì‹œ í† í°ì´ ì¡´ì¬í•œë‹¤ë©´ ë£¨íŠ¸ ê²½ë¡œë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì‹œì¼œì£¼ì„¸ìš”
  - [ ] ì–´ë–¤ ê²½ìš°ë“  í† í°ì´ ìœ íš¨í•˜ì§€ ì•Šë‹¤ë©´ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¬ê³  ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ ì‹œì¼œì£¼ì„¸ìš”

### Assignment 2 - Todo List

- Todo List APIë¥¼ í˜¸ì¶œí•˜ì—¬ Todo List CRUD ê¸°ëŠ¥ì„ êµ¬í˜„í•´ì£¼ì„¸ìš”
  - [x] ëª©ë¡ / ìƒì„¸ ì˜ì—­ìœ¼ë¡œ ë‚˜ëˆ„ì–´ êµ¬í˜„í•´ì£¼ì„¸ìš”
  - [x] Todo ëª©ë¡ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - [x] Todo ì¶”ê°€ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ í•  ì¼ì´ ì¶”ê°€ ë©ë‹ˆë‹¤.
  - [x] Todo ìˆ˜ì • ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ìˆ˜ì • ëª¨ë“œë¥¼ í™œì„±í™”í•˜ê³ , ìˆ˜ì • ë‚´ìš©ì„ ì œì¶œí•˜ê±°ë‚˜ ì·¨ì†Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - [x] Todo ì‚­ì œ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ í•´ë‹¹ Todoë¥¼ ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- í•œ í™”ë©´ ë‚´ì—ì„œ Todo Listì™€ ê°œë³„ Todoì˜ ìƒì„¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ì„¸ìš”.
  - [x] ìƒˆë¡œê³ ì¹¨ì„ í–ˆì„ ë•Œ í˜„ì¬ ìƒíƒœê°€ ìœ ì§€ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
  - [x] ê°œë³„ Todoë¥¼ ì¡°íšŒ ìˆœì„œì— ë”°ë¼ í˜ì´ì§€ ë’¤ë¡œê°€ê¸°ë¥¼ í†µí•˜ì—¬ ì¡°íšŒí•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ì„¸ìš”.
- í•œ í˜ì´ì§€ ë‚´ì—ì„œ ìƒˆë¡œê³ ì¹¨ ì—†ì´ ë°ì´í„°ê°€ ì •í•©ì„±ì„ ê°–ì¶”ë„ë¡ êµ¬í˜„í•´ì£¼ì„¸ìš”

  - [x] ìˆ˜ì •ë˜ëŠ” Todoì˜ ë‚´ìš©ì´ ëª©ë¡ì—ì„œë„ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°˜ì˜ë˜ì–´ì•¼ í•©ë‹ˆë‹¤

## ì‚¬ìš©í•œ í”„ë ˆì„ì›Œí¬ ë° ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ëª…

1. CRA(Create React App)
   - ë°”ë‹¥ë¶€í„° ì…‹íŒ…í•˜ê¸°ë³´ë‹¤ ë¹ ë¥¸ í”„ë¡œí† íƒ€ì…ì„ ë§Œë“¤ì–´ ë‚´ê¸° ìœ„í•´ì„œ CRAë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
2. axios
   - ì—ëŸ¬ ì²˜ë¦¬ë¥¼ ì¡°ê¸ˆ ë” ì›í™œí•˜ê²Œ í•˜ê¸° ìœ„í•´ì„œ axiosë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
3. styled-components
   - JSë¡œ css ìŠ¤íƒ€ì¼ì„ ì‘ì„±í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
4. React Router Dom
   - ë¦¬ì•¡íŠ¸ì—ì„œ ë„ë©”ì¸ì„ ìƒíƒœë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
5. React Query
   - ì„œë²„ ìƒíƒœ ê´€ë¦¬ë¥¼ í¸í•˜ê²Œ í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.
   - ë°ì´í„° ì •í•©ì„± ê´€ë¦¬ë¥¼ ë§¤ìš° ì‰½ê²Œ í•  ìˆ˜ ìˆê²Œ ë„ì™€ì¤ë‹ˆë‹¤.
6. Recoil
   - í´ë¼ì´ì–¸íŠ¸ ì „ì—­ ìƒíƒœ ê´€ë¦¬ë¥¼ í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.
   - ì‚¬ìš© ë°©ë²•ì´ useStateì™€ ë¹„ìŠ·í•˜ì—¬ ì‰½ê²Œ ìƒíƒœë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
7. craco
   - ê²½ë¡œ ëìŠ¤ê°€ ê¹Šì–´ì§€ëŠ” ê²ƒì„ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ì„¤ì¹˜ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.
   - tsconfig.jsonì—ì„œ ê²½ë¡œ ì„¤ì •ì„ í•˜ì—¬ ì‚¬ìš©í–ˆì§€ë§Œ ê°‘ìê¸° ì—ëŸ¬ê°€ ë°œìƒí–ˆê³  CRAì—ì„œëŠ” í•´ê²°í•˜ê¸° ì–´ë µë‹¤ê³  íŒë‹¨ë˜ì—¬ ì„¤ì¹˜í–ˆìŠµë‹ˆë‹¤.

## í´ë” êµ¬ì¡° ì„¤ëª…

í´ë” êµ¬ì¡°ë¥¼ ë§Œë“¤ê¸° ì–´ë ¤ì› ìŠµë‹ˆë‹¤. ê°€ì¥ ê³ ë¯¼í–ˆë˜ ë¶€ë¶„ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

1. hooksëŠ” lib/hooksì™€ Page/\*/hooksë¡œ ë‚˜ëˆ„ì—ˆìŠµë‹ˆë‹¤.
   - íŠ¹ê°• ë•Œ ê¸€ë¡œë²Œë¡œ ì‚¬ìš©ë˜ëŠ” hookê³¼ ë·°ì—ì„œ ë¶„ë¦¬í•œ ê¸°ëŠ¥ìœ¼ë¡œì¨ì˜ hookì„ ê°€ê¹Œìš´ ê³³ì— ìœ„ì¹˜í•˜ë©´ ì¢‹ê² ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤.

```
â”œâ”€â”€ Pages
â”‚Â Â  â”œâ”€â”€ Auth
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Login.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Logout.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ PageNotFound.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ SignUp.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ hooks
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ index.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useLogin.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useRemoveUserState.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useSetUserState.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useSignup.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ useValidation.tsx
```

2. ì»´í¬ë„ŒíŠ¸ì™€ í˜ì´ì§€, ë¼ìš°í„° í´ë”ë¥¼ ì—­í• ë³„ë¡œ ë‚˜ëˆ„ì—ˆìŠµë‹ˆë‹¤.

   - ì»´í¬ë„ŒíŠ¸ í´ë”ëŠ” ì „ì—­ìœ¼ë¡œ ì¬ì‚¬ìš©ë˜ëŠ” ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ë“¤ì–´ìˆìŠµë‹ˆë‹¤.
   - í˜ì´ì§€ëŠ” ë·°ì˜ ì—­í• ì„ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë“¤ì–´ìˆìŠµë‹ˆë‹¤.
   - ë¼ìš°í„°ëŠ” Router ì—­í• ì„ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë“¤ì–´ìˆìŠµë‹ˆë‹¤.

3. lib(ë¼ì´ë¸ŒëŸ¬ë¦¬)ì— ìŠ¤íƒ€ì¼, atoms, hooks ë“± í—¬í¼ í•¨ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤.
   - ê¸€ë¡œë²Œë¡œ ì‚¬ìš©ë˜ëŠ” í—¬í¼ í•¨ìˆ˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ í´ë”ì— ë„£ì—ˆìŠµë‹ˆë‹¤.
   - ë³„ë‹¤ë¥¸ ì´ìœ ëŠ” ì—†ìŠµë‹ˆë‹¤. ì´ì „ í”„ë¡œì íŠ¸ì—ì„œ libê°€ ì—†ì´ src ë°”ë¡œ ì•„ë˜ ìœ„ì¹˜í–ˆëŠ”ë° í´ë”ê°€ ë„ˆë¬´ ì§€ì €ë¶„í•´ì ¸ì„œ ì´ë ‡ê²Œ í–ˆìŠµë‹ˆë‹¤.

- ì „ì²´ í´ë”

```
.
â”œâ”€â”€ craco.config.js
â”œâ”€â”€ node_modules
â”œâ”€â”€ package-lock.json
â”œâ”€â”€ package.json
â”œâ”€â”€ public
â”‚Â Â  â”œâ”€â”€ favicon.ico
â”‚Â Â  â”œâ”€â”€ index.html
â”‚Â Â  â”œâ”€â”€ logo192.png
â”‚Â Â  â”œâ”€â”€ logo512.png
â”‚Â Â  â”œâ”€â”€ manifest.json
â”‚Â Â  â””â”€â”€ robots.txt
â”œâ”€â”€ src
â”‚Â Â  â”œâ”€â”€ App.tsx
â”‚Â Â  â”œâ”€â”€ Components
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ FormContainer.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Header.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Modals
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ DeleteModal.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ Modal.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Skeleton.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Snackbar
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ Snackbar.tsx
â”‚Â Â  â”‚Â Â  â””â”€â”€ index.ts
â”‚Â Â  â”œâ”€â”€ Layouts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MainLayout.tsx
â”‚Â Â  â”‚Â Â  â””â”€â”€ index.ts
â”‚Â Â  â”œâ”€â”€ Pages
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Auth
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Login.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Logout.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ PageNotFound.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ SignUp.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ hooks
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ index.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useLogin.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useRemoveUserState.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useSetUserState.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useSignup.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ useValidation.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ index.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ styles
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ FormButtonStyled.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ FormDefaultStyle.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ FormErrorStyle.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ index.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Main
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Main.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ index.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ TODO
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Detail
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ToDoDetail.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ToDoDetailContainer.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ToDoUpdateForm.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Skeleton
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ SkeletonForTodoList.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ SkeletonForTodoListItem.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ToDoCreateForm.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ToDoItem.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ToDoList.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ToDoListContainer.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ hooks
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ index.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useControlTodoForm.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useCreateTodo.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useDeleteTodo.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useGetTodoDetail.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useGetTodos.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ useUpdateTodo.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ index.ts
â”‚Â Â  â”‚Â Â  â””â”€â”€ index.ts
â”‚Â Â  â”œâ”€â”€ Routes
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ProtectRouter.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ Routers.tsx
â”‚Â Â  â”‚Â Â  â””â”€â”€ index.ts
â”‚Â Â  â”œâ”€â”€ index.tsx
â”‚Â Â  â”œâ”€â”€ lib
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ atoms
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ index.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ snackbar.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ user.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ hooks
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ index.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useChangeUTCToLocalDate.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ useFetch.tsx
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ useModalContorl.tsx
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ http
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ api.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ index.ts
â”‚Â Â  â”‚Â Â  â””â”€â”€ styled
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ GlobalStyle.tsx
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ index.ts
â”‚Â Â  â”‚Â Â      â””â”€â”€ style.ts
â”‚Â Â  â”œâ”€â”€ react-app-env.d.ts
â”‚Â Â  â”œâ”€â”€ reportWebVitals.ts
â”‚Â Â  â”œâ”€â”€ setupTests.ts
â”‚Â Â  â””â”€â”€ styled.d.ts
â”œâ”€â”€ tsconfig.json
â””â”€â”€ tsconfig.paths.json
```

## ê³¼ì œ ì§„í–‰ ì‹œ ê³ ë¯¼í•œ ë¶€ë¶„

### ì—ëŸ¬ ì²˜ë¦¬

ì—ëŸ¬ ì²˜ë¦¬ê°€ í”„ë¡ íŠ¸ì•¤ë“œì—ì„œ ë§¤ìš° ì¤‘ìš”í•¨ì—ë„ ë¶ˆêµ¬í•˜ê³  ë§¤ë²ˆ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ ë•Œë§ˆë‹¤ ë“±í•œì‹œ í•˜ê²Œ ë˜ëŠ” ê²ƒ ê°™ì•˜ìŠµë‹ˆë‹¤. ì—ëŸ¬ ì²˜ë¦¬ë¥¼ í•  ë•Œ Error ìƒì„±ìë¥¼ ì‚¬ìš©í•´ì„œ Errorë¥¼ ì²˜ë¦¬í–ˆì—ˆëŠ”ë°
ë¦¬ì•¡íŠ¸ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ì—ëŸ¬ ì²˜ë¦¬ ë°©ë²•ì„ ì°¾ì•„ë³´ë‹¤ê°€ [ê°œë°œìì˜ ë¸”ë¡œê·¸](https://tkdodo.eu/blog/react-query-error-handling)ë¥¼ ë³´ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë˜ ì¤‘ Axiosë¥¼ ì‚¬ìš©í•˜ë©´ AxiosErrorë¥¼ ì‚¬ìš©í•´ì„œ ë” ì‰½ê²Œ ì—ëŸ¬ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤ê³  í•˜ì—¬ [ê·¸ ë¶€ë¶„ì„ ì ìš©](https://github.com/movie42/wanted-pre-onboarding-challenge-fe-1/commit/809a41a1728db9ee4cf3f4ffccd3cf04ac360b33#diff-5829b620b67eac9db92379f246e480141950629aa4f52d2a0c7f62cad3fabdbc) í•˜ì˜€ìŠµë‹ˆë‹¤.

```typescript
import { AxiosError } from "axios";

const useLogin = () => {
  return useMutation<LoginData, AxiosError, LoginVariable>(
    async (body) => await postData(`/users/login`, body),
    {
      useErrorBoundary: (error) => {
        return error.response ? error.response.status >= 500 : false;
      },
      onError: (error) => {
        if (error.response?.status === 400) {
          setSnackBar((pre) => [
            ...pre,
            {
              id: Date.now().toString(),
              type: "warning",
              message: "â›”ï¸ ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ë¥¼ ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”."
            }
          ]);
        }
      },
      onSuccess: ({ token }) => {
        setSnackBar((pre) => [
          ...pre,
          {
            id: Date.now().toString(),
            type: "notice",
            message: "âœ… ë‹¤ì‹œ ëŒì•„ì˜¤ì‹ ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤."
          }
        ]);
        setLocalStorage(token);
        setUserState((pre) => ({ ...pre, isLogin: false, token }));
      }
    }
  );
};
```

### React Query ì‚¬ìš©í•˜ì—¬ API í˜¸ì¶œí•˜ê¸°

#### React Queryë¡œ API í˜¸ì¶œí•˜ëŠ” ì»¤ìŠ¤í…€ í›… ë§Œë“¤ê¸°

ë¦¬ì•¡íŠ¸ ì¿¼ë¦¬ë¥¼ ì‚¬ìš©í•´ì„œ ì„œë²„ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒì€ ë§¤ìš° í¸ë¦¬í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ì „ì˜ ê²½í—˜ìœ¼ë¡œ ë³´ì•˜ì„ ë•Œ, APIë¥¼ í˜¸ì¶œí•˜ëŠ” ì½”ë“œì™€ ë·°ê°€ í•œ ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ ìˆì–´ì„œ ì½”ë“œê°€ ë§¤ìš° ë³µì¡í•˜ê³  íŠ¹ì • ë¡œì§ì„ ìˆ˜ì •í•˜ë ¤ë©´ ë³µì¡í•œ ê³¼ì •ì„ ê±°ì³ì•¼í–ˆìŠµë‹ˆë‹¤.

```typescript
function Notice() {
  const { id } = useParams();

  const { isLogin } = useRecoilValue(loginState);
  const setDetailItem = useSetRecoilState(notice);
  const [noticeModalState, setNoticeModalState] =
    useRecoilState(noticeModalControler);

  // API í˜¸ì¶œ
  const {
    isSuccess,
    isRefetching,
    isLoading,
    data: notices
  } = useGet<INoticeInterface[]>({
    url: `/api/notice?offset=0&limit=9`,
    queryKey: "notice"
  });

  const onClick = (id: string) => {
    if (notices) {
      const [detailItem] = notices.filter((item) => item._id === id);
      setNoticeModalState(true);
      setDetailItem({ ...detailItem });
    }
  };

  useEffect(() => {
    if (id && isSuccess && !isRefetching) {
      const [detailItem] = notices.filter((item) => item._id === id);
      setNoticeModalState(true);
      setDetailItem({ ...detailItem });
    }
  }, [id, isSuccess, isRefetching]);

  return (
    <>
      <NoticeListContainer>
        <Wrapper>
          <NoticeComponentInfoContainer>
            <h1>ê³µì§€ì‚¬í•­</h1>
            {isLogin && (
              <Link to={"/notice/create"}>
                <AiFillPlusCircle />
              </Link>
            )}
          </NoticeComponentInfoContainer>
          <>
            {notices && (
              <ListContainer
                isLoading={isLoading && isRefetching}
                data={notices}
                renderFunc={(item) => (
                  <ListItem
                    key={item._id}
                    data={item}
                    onClick={() => onClick(item._id)}
                  />
                )}
                skeletonRenderFunc={(item: number[], index: number) => (
                  <SkeletonForListItem key={index} />
                )}
              />
            )}
          </>
        </Wrapper>
        <AnimatePresence>{noticeModalState && <Outlet />}</AnimatePresence>
      </NoticeListContainer>
    </>
  );
}
```

ì´ë²ˆì— íˆ¬ë‘ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ë•ŒëŠ” ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ APIë¥¼ í˜¸ì¶œí•˜ëŠ” ì½”ë“œë¥¼ ë¶„ë¦¬í•´ì„œ í›…ìœ¼ë¡œ ë§Œë“¤ê³  ë¶ˆì–´ì™€ì„œ ë°”ë¡œ ì‚¬ìš©í•˜ë„ë¡ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤.

```typescript
// API í˜¸ì¶œ

const useCreateTodo = () => {
  const setSnackbarQueue = useSetRecoilState(snackbarState);
  const { postData } = useFetch<CreateTodoVariable>(api.baseUrl);
  const queryClient = useQueryClient();

  return useMutation<CreateTodoData, Error, CreateTodoVariable, unknown>(
    (body) => postData("/todos", body),
    {
      onSuccess: () => {
        queryClient.invalidateQueries(["todoList"]);
        setSnackbarQueue((pre) => [
          ...pre,
          {
            id: Date.now().toString(),
            message: "âœ… í•  ì¼ ë“±ë¡í–ˆìŠµë‹ˆë‹¤.",
            type: "notice"
          }
        ]);
      }
    }
  );
};

// íˆ¬ë‘ë¥¼ ìƒì„±í•˜ëŠ” ì˜ì—­
const ToDoListContainer = () => {
  // í›… í•œì¤„ë¡œ API í˜¸ì¶œì„ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.
  const { mutate } = useCreateTodo();

  const handleTodo = (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();

    if (title === "") {
      setIsTitle(false);
      return;
    }
    setIsTitle(null);

    mutate(
      {
        title,
        content
      },
      {
        onSuccess: () => {
          setTitle("");
          setContent("");
        }
      }
    );
  };

  return; // ìƒëµ
};
```

ì´ë ‡ê²Œ ê´€ë¦¬í•˜ëŠ” ê²ƒì˜ ì¥ì ì€ í˜¸ì¶œ APIë¥¼ ë³€ê²½í•´ì•¼í•  ë•Œ ì—¬ëŸ¬ê³³ì„ ëŒë©´ì„œ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šì•„ë„ ëœë‹¤ëŠ” ì ì´ ì¢‹ì€ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

### "ì‚¬ìš©ì ì•¡ì…˜ì— ë”°ë¥¸ ì ì ˆí•œ í”¼ë“œë°± (UI / UX)" ì ìš©í•´ë³´ê¸°

1. ìŠ¤ì¼ˆë ˆí†¤ ì»´í¬ë„ŒíŠ¸ ì ìš©í•˜ê¸°

ë¡œë”© í™”ë©´ì„ ë³´ì—¬ì£¼ê¸° ìœ„í•´ ìŠ¤ì¼ˆë ˆí†¤ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ ì ìš©í•˜ì˜€ìŠµë‹ˆë‹¤. React-Queryë¥¼ ì‚¬ìš©í•  ë•Œ, ì„œë²„ ìƒíƒœë¥¼ isLoading, isRefetching, isSuccessì— ì˜ì¡´í•´ì„œ íŒë‹¨í•©ë‹ˆë‹¤. ë³´í†µ isLoading, isRefetchingì´ trueì´ë©´ ë¡œë”© í™”ë©´ì´ë‚˜ ìŠ¤ì¼ˆë ˆí†¤ì„ ë³´ì—¬ì¤ë‹ˆë‹¤. ìŠ¤ì¼ˆë ˆí†¤ ì»´í¬ë„ŒíŠ¸ëŠ” ì•„ë˜ì˜ ì•„í‹°í´ì„ ë³´ê³  ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

> ì°¸ê³  í•œ ê¸€  
> [ë” ë‚˜ì€ UXë¥¼ ìœ„í•œ Reactì—ì„œ ìŠ¤ì¼ˆë ˆí†¤ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°](https://ui.toast.com/weekly-pick/ko_20201110)

í•˜ì§€ë§Œ ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. ì„œë²„ ì‘ë‹µì´ ë¹ ë¥´ë©´ ìŠ¤ì¼ˆë ˆí†¤ UIê°€ ê·¸ëƒ¥ ê¹œë°•ì…ë‹ˆë‹¤. ì´ëŸ° ê¹œë°•ì„ì€ ì‚¬ìš©ìì—ê²Œ ì¢‹ì§€ ì•Šì€ ê²½í—˜ì„ ì£¼ëŠ” ê²ƒ ê°™ìŠµë‹ˆë‹¤.

ì°¨ë¼ë¦¬ ì„œë²„ì˜ ì‘ë‹µì´ ë¹ ë¥´ë©´ ìŠ¤ì¼ˆë ˆí†¤ì„ ë™ì‘ì‹œí‚¤ì§€ ì•Šê±°ë‚˜ ìµœì†Œ 1íšŒëŠ” ë³´ì´ë„ë¡ ë³€ê²½í•˜ëŠ”ê²Œ ì¢‹ë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ì €ëŠ” isSkeletonì´ë¼ëŠ” ìƒíƒœë¥¼ ë§Œë“¤ê³  isLoading, isRefetchingì´ ë¹ ë¥´ê²Œ falseë¡œ ë³€ê²½ë˜ë”ë¼ë„ ìµœì†Œ 1íšŒëŠ” ë™ì‘í•˜ë„ë¡ ì½”ë“œë¥¼ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.

```typescript
const ToDoList = () => {
  const [isSkeleton, setIsSkeleton] = useState(true);
  const { data: todos, isLoading, isSuccess, isRefetching } = useGetTodos();

  useEffect(() => {
    let timer: NodeJS.Timeout;
    if (!isLoading && !isRefetching) {
      timer = setTimeout(() => setIsSkeleton(false), 1000);
    }
    return () => clearTimeout(timer);
  }, [isLoading, isRefetching]);

  return !isSkeleton ? (
    <Wrapper>
      <ul>
        {todos?.map((todo) => (
          <ToDoItem key={todo.id} todo={todo} />
        ))}
      </ul>
    </Wrapper>
  ) : (
    <Wrapper>
      <ul>
        <SkeletonForTodoListItem />
        <SkeletonForTodoListItem />
        <SkeletonForTodoListItem />
        <SkeletonForTodoListItem />
        <SkeletonForTodoListItem />
        <SkeletonForTodoListItem />
      </ul>
    </Wrapper>
  );
};
```

2. ì‚­ì œ ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ, ì‚¬ìš©ìì—ê²Œ ê²½ê³  ëª¨ë‹¬ ë³´ì—¬ì£¼ê¸°

https://user-images.githubusercontent.com/44064122/184055711-e172343f-a89d-46dc-8ae4-9fb653a30325.mov

ì‚­ì œ ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ, í•  ì¼ì´ ë°”ë¡œ ì‚­ì œë˜ì§€ ì•Šê³  ì‚¬ìš©ìì—ê²Œ í•œ ë²ˆ ë” í™•ì¸ì„ ë°›ëŠ” ëª¨ë‹¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤. ëª¨ë‹¬ì€ [useModalControl](./client/src/lib/hooks/useModalContorl.tsx) í›…ì„ í†µí•´ì„œ ì œì–´ë©ë‹ˆë‹¤.

[Modal](./client/src/Components/Modals/Modal.tsx) ì»´í¬ë„ŒíŠ¸ëŠ” JSXë¥¼ childrenìœ¼ë¡œ ë°›ìŠµë‹ˆë‹¤. ì œì–´ í•­ëª©ì„ propsë¡œ ë„˜ê¸°ëŠ” ê²ƒë³´ë‹¤ childrenìœ¼ë¡œ ë°›ì•„ Modalì˜ ì„¸ë¶€ ë‚´ìš©ì„ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ë” ììœ ë„ê°€ ë†’ìŠµë‹ˆë‹¤. ëª¨ë‹¬ì°½ ì•ˆì— ë“¤ì–´ê°€ëŠ” ë‚´ìš©ì„ ì˜ˆì¸¡í•  ìˆ˜ ìˆê³  ëª¨ë‹¬ì„ ì‰½ê²Œ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- Modal.tsx

```typescript
interface IModalProps extends React.HTMLAttributes<HTMLElement> {}

const Modal = ({ ...props }: IModalProps) => {
  return (
    <ModalWrapper>
      <ContentContainer>{props.children}</ContentContainer>
      <ContentBackground />
    </ModalWrapper>
  );
};

export default Modal;
```

<details>
<summary>êµ¬í˜„í•˜ë©´ì„œ ì‹œë„í–ˆì§€ë§Œ ì‹¤íŒ¨í•œ ë¶€ë¶„</summary>

<div markdown="1">
  <h4>ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•´ì„œ ì•„ì´í…œ ì‚­ì œë¥¼ ì œì–´í•  ìˆ˜ëŠ” ì—†ì„ê¹Œ?</h4>

handleDeleteTodo í•¨ìˆ˜ë¥¼ ì œë„ˆë ˆì´í„°ë¡œ ë§Œë“¤ì–´ì„œ í•  ì¼ ì‚­ì œ ë¡œì§ì„ ì œì–´í•˜ê³  ì‹¶ì—ˆë‹¤. useEffectë¥¼ ì‚¬ìš©í•´ì„œ ëª¨ë‹¬ì„ ì œì–´í–ˆì§€ë§Œ ëª¨ë‹¬ì´ í¬í•¨ëœ ì»´í¬ë„ŒíŠ¸ê°€ ë„ˆë¬´ ë³µì¡í•´ì§„ë‹¤.

```typescript
function* handleDelete(e: React.MouseEvent<HTMLButtonElement>) {
  e.preventDefault();
  const id = e.currentTarget.closest("li")?.dataset.id;

  yield setIsModal(true);

  if (id) {
    mutate(
      { id },
      {
        onSuccess: () => {
          navigate("/");
        }
      }
    );

    return true;
  }

  return false;
}
```

ëê¹Œì§€ êµ¬í˜„í•˜ì§€ ì•Šì€ ì´ìœ 

- ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ í•¨ìˆ˜ë¥¼ ê°’ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ì•¼í•˜ëŠ”ë° ì´ ë¶€ë¶„ì´ ì• ë§¤í•˜ë‹¤.
- ì–´ì°¨í”¼ ì œë„ˆë ˆì´í„°ì˜ nextë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” isConfirmì´ trueê°€ ë˜ì—ˆì„ ê²½ìš°ì— ì‹¤í–‰í•´ì•¼í•˜ëŠ”ë° ê·¸ëŸ¬ê¸° ìœ„í•´ì„œ useEffectë¥¼ ì‚¬ìš©í•´ì•¼í•œë‹¤.
- ì´ë²¤íŠ¸ ì¸ìë¥¼ ë„˜ê¸°ëŠ” ë°©ë²•ì´ ì• ë§¤í•´ì§„ë‹¤. ê·¸ëŸ¬ë ¤ë©´ ë˜ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì•¼í•œë‹¤.

ê²°ë¡ ì ìœ¼ë¡œ ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•´ì„œ ì•„ì´í…œ ì‚­ì œ ë¡œì§ì„ ì œì–´í•˜ëŠ” ê²ƒì€ ë¶ˆí•„ìš”í•´ë³´ì˜€ë‹¤. ì–´ì©Œë©´ ì œë„ˆë ˆì´í„° ì‚¬ìš© ë°©ë²•ì„ ì˜ ëª¨ë¥´ëŠ”ë“¯?

</div>
</details>

3. ìŠ¤ë‚µë°”ë¡œ ìƒíƒœ ë©”ì‹œì§€ ë³´ì—¬ì£¼ê¸°

ì‚¬ìš©ìê°€ UIì˜ ë³€ê²½ì„ ì¼ìœ¼í‚¤ëŠ” ë™ì‘ì„ í–ˆì„ ê²½ìš°ì— ì•Œë¦¼ì„ ìœ„í•´ [ìŠ¤ë‚µë°”ë¥¼ êµ¬í˜„](./client/src/Components/Snackbar/Snackbar.tsx)í•˜ì˜€ìŠµë‹ˆë‹¤. ìŠ¤ë‚µë°”ë¥¼ êµ¬í˜„í•˜ë©´ì„œ ì• ë‹ˆë©”ì´ì…˜ì— ëŒ€í•´ì„œ ëª‡ ê°€ì§€ ë°°ìš´ ê²ƒì„ ì •ë¦¬í•˜ë ¤ê³  í•©ë‹ˆë‹¤.

- CSS í‚¤í”„ë ˆì„

  - CSS í‚¤í”„ë ˆì„ì€ ì• ë‹ˆë©”ì´ì…˜ ë™ì‘ì„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 'from to'ë¡œ ì²˜ìŒê³¼ ë‚˜ì¤‘ì„ ì§€ì •í•˜ê±°ë‚˜ '0%'ë¡œ ì œì–´ë¥¼ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í‚¤í”„ë ˆì„ ì•ˆì—ëŠ” ì›í•˜ëŠ” ë™ì‘ì„ ì‘ì„±í•˜ë©´ ë©ë‹ˆë‹¤. ì•„ë˜ ì½”ë“œëŠ” styled-componentsë¥¼ ì‚¬ìš©í•˜ì—¬ keyframeì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

  ```typescript
  const snackbarTimerKeyframe = keyframes`
    0%{
      visibility: visible;
      transform-origin: top left;
      transform: scaleX(0%);
    }
    100%{
      visibility: visible;
      transform-origin: top left;
      transform: scaleX(100%);
    }
    `;
  ```

  - í‚¤í”„ë ˆì„ì˜ ì‘ì„±ì´ ëë‚˜ë©´ ì›€ì§ì„ì„ ì£¼ê³  ì‹¶ì€ ì»´í¬ë„ŒíŠ¸ì— animation ì†ì„±ì„ ë“±ë¡í•˜ë©´ ë©ë‹ˆë‹¤.
  - ì• ë‹ˆë©”ì´ì…˜ì„ ë“±ë¡í•  ì´ˆê¸°ê°’ ì„¤ì •ì„ ê¸°ë³¸ css ì†ì„±ìœ¼ë¡œ ë“±ë¡í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ì• ë‹ˆë©”ì´ì…˜ì´ ë‹¤ ëë‚œ ë‹¤ìŒì— ì˜ˆìƒì¹˜ ëª»í•œ ë™ì‘ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ ì½”ë“œëŠ” snackbarë¥¼ 3.5ì´ˆë™ì•ˆ 1ë²ˆ ì›€ì§ì´ëŠ” ë™ì‘ì„ êµ¬í˜„í•œ ì½”ë“œì…ë‹ˆë‹¤. ë§Œì•½ì— MessageContainer ìŠ¤íƒ€ì¼ ì»´í¬ë„ŒíŠ¸ì— "transform: translateX(120%);"ìœ¼ë¡œ ì´ˆê¸°ê°’ì´ ë“±ë¡ë˜ì–´ìˆì§€ ì•Šìœ¼ë©´ ì• ë‹ˆë©”ì´ì…˜ì´ ë‹¤ ëë‚œ ë‹¤ìŒì— ìŠ¤ë‚µë°”ê°€ í™”ë©´ìœ¼ë¡œ íŠ€ì–´ë‚˜ì˜¤ê²Œ ë©ë‹ˆë‹¤. **ì• ë‹ˆë©”ì´ì…˜ ë™ì‘ í›„ì— ì˜ˆìƒì¹˜ ëª»í•œ ë™ì‘ì´ ë°œìƒí•œë‹¤ë©´ ì´ˆê¸°ê°’ì„ í™•ì¸í•´ë³´ì„¸ìš”.**

  ```typescript
  const snackbarTranslaterKeyframe = keyframes`
  0%{
    transform : translateX(100%);
  }
  5%{
    transform: translateX(0);
  }
  95%{
    transform: translateX(0);
  }
  100%{
    transform : translateX(100%);
  }
  `;

  const MessageContainer = styled.div`
    ...
    transform: translateX(120%);
    animation: ${snackbarTranslaterKeyframe} 3.5s 1 linear;
    `;
  ```

  - keyframeì˜ íƒ€ì´ë°ì„ ì¡°ì ˆí•˜ë ¤ë©´ ê° keyframeì˜ ê°„ê²©ì„ ì¡°ì ˆí•˜ë©´ë©ë‹ˆë‹¤. ì²˜ìŒì—ëŠ” animation-delayë¡œ ì„¤ì •í•  ìˆ˜ ìˆì„ ì¤„ ì•Œì•˜ëŠ”ë° ê·¸ ë°©ë²•ì€ ë™ì‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì• ë‹ˆë©”ì´ì…˜ì˜ ì´ ë™ì‘ ì‹œê°„ì„ ì •í•œ ë‹¤ìŒì— í‚¤í”„ë ˆì„ ê°„ê²©ìœ¼ë¡œ ë™ì‘ì„ ì œì–´í•˜ë©´ ë©ë‹ˆë‹¤.

- ê³ ë¯¼í–ˆë˜ ë¬¸ì œ

  - ë¬¸ì œ

    ì–´ë–¤ ë™ì‘ì„ ì„±ê³µí–ˆì„ ê²½ìš°ì— snackbar íì— ë©”ì‹œì§€ë¥¼ ë“±ë¡í•˜ê²Œ ë©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë“±ë¡ëœ ë©”ì‹œì§€ëŠ” ì „ì—­ìƒíƒœ ê°’ì— ë”°ë¼ ìŠ¤ë‚µë°”ê°€ í™”ë©´ì— ê·¸ë ¤ì§‘ë‹ˆë‹¤.

    ```typescript
    // ì–´ë–¤ ë™ì‘ì˜ ì„±ê³µ
    {
      onSuccess: () => {
        setSnackbarQueue((pre) => [
          ...pre,
          {
            id: Date.now().toString(),
            message: "âœ… í•  ì¼ ë“±ë¡í–ˆìŠµë‹ˆë‹¤.",
            type: "notice"
          }
        ]);
      };
    }

    // ìŠ¤ë‚µë°” ì¶œë ¥
    const Main = () => {
      const snackbarQueue = useRecoilValue(snackbarState);

      return (
        <Snackbar>
          {snackbarQueue.map(({ id, message, type }) => (
            <Snackbar.Item
              key={id}
              data-set={id}
              message={message}
              type={type}
            />
          ))}
        </Snackbar>
      );
    };
    ```

    ê·¸ëŸ°ë° ë¬¸ì œëŠ” DOMì— ìŠ¤ë„¥ë°”ê°€ ë“±ë¡ ë˜ì—ˆì§€ë§Œ ë™ì‘ì´ ëë‚œ ë‹¤ìŒì— ì‚¬ë¼ì§€ì§€ ì•Šê³  ê·¸ëŒ€ë¡œ DOMì— ë‚¨ì•„ìˆìŠµë‹ˆë‹¤.

     <img width="852" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-08-11 á„‹á…©á„’á…® 7 20 17" src="https://user-images.githubusercontent.com/44064122/184115239-e8e0458a-edd3-494f-b833-daf0adfc23cd.png">

  - í•´ê²°ì±…

    - ì²˜ìŒì— ì œê°€ ìƒê°í•œ í•´ê²°ì±…ì€ queueë¥¼ êµ¬í˜„í•´ì„œ ë©”ì‹œì§€ë¥¼ í•œê°œì”© ì œê±°í•˜ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ shiftë¡œ íë¥¼ êµ¬í˜„í•  ê²½ìš° ì„±ëŠ¥ ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  queueì˜ ë³€ê²½ì„ reactê°€ ê°ì§€í•˜ë©´ DOMì´ ìƒˆë¡œ ê·¸ë ¤ì§ˆ ê²ƒì´ë¼ê³  ìƒê°í•˜ì—¬ queueë¡œ êµ¬í˜„í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
    - ì•„ì£¼ ê°„ë‹¨í•˜ê²Œ useEffectë¥¼ ì‚¬ìš©í•´ì„œ snackbar queueê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ timerë¥¼ ë“±ë¡í•˜ê²Œ í•˜ê³  ì¼ì • ì‹œê°„ì´ ì§€ë‚˜ë©´ queueë¥¼ ì „ë¶€ ì§€ìš°ëŠ” ë°©ë²•ìœ¼ë¡œ ì´ ë¬¸ì œë¥¼ í•´ê²°í–ˆìŠµë‹ˆë‹¤.

    ```typescript
    useEffect(() => {
      let timer: NodeJS.Timeout;
      timer = setTimeout(() => setSnackbarQueue([]), 6000);
      return () => clearTimeout(timer);
    }, [snackbarQueue]);
    ```

    ì‹œê°„ì´ ì§€ë‚˜ë©´ DOMì— ìˆë˜ HTML íƒœê·¸ê°€ ì „ë¶€ ì‚­ì œë©ë‹ˆë‹¤.

### ëª…ë ¹í˜• í”„ë¡œê·¸ë˜ë° -> ì„ ì–¸ì  í”„ë¡œê·¸ë˜ë° ì ìš©í•´ë³´ê¸°

#### ProtectRouterë¥¼ ì„ ì–¸ì ìœ¼ë¡œ ë§Œë“¤ì–´ë³´ê¸°

ìƒˆë¡œê³ ì¹¨ì„ í•˜ë©´ isLoginì´ ì ê¹ë™ì•ˆ undefinedê°€ ë˜ê¸° ë•Œë¬¸ì— í™”ë©´ ê¹œë°•ì„ ë¿ ì•„ë‹ˆë¼ PageNotFoundê°€ ì ê¹ë™ì•ˆ ë™ì‘í•˜ê²Œ ë©ë‹ˆë‹¤. ê°‘ìê¸° ë¡œê·¸ì¸ì´ í’€ë ¸ë‹¤ê°€ ì¬ë¡œê·¸ì¸ì´ ë˜ëŠ” ê³¼ì •ì„ ì‚¬ìš©ìì—ê²Œ ì ë‚˜ë¼ê²Œ ëª¨ë‘ ë³´ì—¬ì£¼ê¸° ë•Œë¬¸ì— ëŠë‚Œìƒ ì‹ ë¢°ê°€ ê°€ì§€ ì•ŠìŠµë‹ˆë‹¤. !isLoginì´ trueì´ë©´ "/login"ê³¼ "/signup"ì— ì ‘ê·¼ì„ ë§‰ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì¸ì¦ê³¼ ì¸ê°€ë¥¼ ìœ„í•œ ì½”ë“œë¥¼ ì•„ë˜ì™€ ê°™ì´ ë¼ìš°í„°ì— ì§ì ‘ ì…ë ¥í–ˆìŠµë‹ˆë‹¤.

```typescript
const Routers = () => {
  const { isLogin } = useRecoilValue(userState);

  return (
    <Routes>
      {isLogin && <Route path="/logout" element={<Logout />} />}
      <Route path="/" element={<MainLayout />}>
        <Route path="/" element={<Main />}>
          <Route path=":todoId" element={<ToDoDetail />} />
        </Route>
        <Route path="auth">
          {!isLogin && (
            <>
              <Route path="login" element={<Login />} />
              <Route path="signup" element={<SignUp />} />
            </>
          )}
        </Route>
      </Route>

      <Route path="*" element={<PageNotFound />} />
    </Routes>
  );
};

export default Routers;
```

ë•ë¶„ì—(?) '/login', '/signup', '/logout' í˜ì´ì§€ì— ì ‘ê·¼ì€ ë§‰ì•˜ì§€ë§Œ ì‚¬ìš©ì„±ì€ ì¢‹ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ë‚˜ë¦„ í•´ê²°í•œë‹¤ê³  PageNotFound ì»´í¬ë„ŒíŠ¸ë¥¼ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.

```tsx
const PageNotFound = () => {
  const params = useParams();
  const [isAuth, setIsAuth] = useState(false);
  const navigate = useNavigate();
  const { isLogin } = useRecoilValue(userState);

  const authUrlList = ["auth/login", "auth/signup"];

  const checkAuthUrl = () => {
    for (let url of authUrlList) {
      if (url === params["*"]) {
        setIsAuth(true);
      }
    }
  };

  useEffect(() => {
    let timer: NodeJS.Timeout;
    checkAuthUrl();

    if (isLogin && isAuth) {
      navigate("/");
    }

    timer = setTimeout(() => navigate("/"), 2500);

    return () => {
      setIsAuth(false);
      clearTimeout(timer);
    };
  }, [isLogin, isAuth]);

  return (
    <Wrapper>
      <h1>ğŸ¥² í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ê°€ ì—†ë„¤ìš”</h1>
    </Wrapper>
  );
};

export default PageNotFound;
```

checkAuthUrl()ì´ ì‹¤í–‰ë˜ë©´ì„œ authUrlListë¥¼ í™•ì¸í•˜ê³  í•´ë‹¹ë˜ë©´ í™ˆìœ¼ë¡œ ê³§ë°”ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ í•´ì£¼ê³  ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ 2.5ì´ˆê°„ í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ë‹¤ëŠ” ë¬¸êµ¬ë¥¼ ë³´ì—¬ì£¼ê³  ë©”ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ í•´ì£¼ê²Œ ë©ë‹ˆë‹¤. ë‚˜ë¦„ ì¢‹ì€ í•´ê²°ì±…ì´ì—ˆë‹¤ê³ ëŠ” ìƒê°í–ˆì§€ë§Œ ì ê¹ ë™ì•ˆ 'í˜ì´ì§€ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.'ë¼ëŠ” ë¬¸êµ¬ë¥¼ ë³´ì—¬ì£¼ì§€ ì•ŠëŠ” ë¬¸ì œëŠ” ì—¬ì „íˆ í•´ê²°í•  ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤.

ì œê°€ ìƒê°í–ˆì„ ë•Œ, ìœ„ ì½”ë“œê°€ ê°€ì§€ê³  ìˆëŠ” ë¬¸ì œì ì„ ê¼½ì•„ë³´ì•˜ìŠµë‹ˆë‹¤.

- ì‚¬ìš©ì„±ì´ ì¢‹ì§€ ì•Šë‹¤.
- authUrlListë¥¼ ê³„ì† ê´€ë¦¬í•´ì£¼ì–´ì•¼ í•œë‹¤. ìˆ˜ê°€ ëŠ˜ì–´ë‚˜ê±°ë‚˜ ì¤„ì–´ë“¤ ê²½ìš° í”„ë¡œê·¸ë˜ë¨¸ë¥¼ ê·€ì°®ê²Œí•œë‹¤.
- ì¸ì¦, ì¸ê°€ ë¡œì§ì´ ì¼ì°¨ì›ì ì´ë¼ í•œë‹¨ê³„ ë” ì¸ì¦í•´ì•¼í•œë‹¤ë©´ ì¼ì¼ì´ ì¸ì¦ ì¸ê°€ë¥¼ ë¼ìš°í„°ì— ë¶™ì—¬ì•¼í•œë‹¤. ê·¸ëŸ¬ë©´ if else ë˜ëŠ” ì‚¼í•­ ì—°ì‚°ìê°€ ì§€ì €ë¶„í•˜ê²Œ ë¶™ëŠ”ë‹¤.

ì €ëŠ” ë¨¼ì € ì¸ì¦, ì¸ê°€ ë¡œì§ì„ í•´ê²°í•˜ê¸°ë¡œ í–ˆìŠµë‹ˆë‹¤. ì´ ë¶€ë¶„ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ë´¤ë˜ ì•„í‹°í´ ì¤‘ ë„ì›€ì´ ê°€ì¥ ë§ì´ ëœ [ì•„í‹°í´ì„ ê³µìœ (React Router 6: Private Routes (alias Protected Routes))](https://www.robinwieruch.de/react-router-private-routes/)í•©ë‹ˆë‹¤.

ìœ„ ì•„í‹°í´ì„ ë³´ë©´ì„œ ProtectRouterë¥¼ ë§Œë“¤ê²Œ ë˜ì—ˆê³  ì¸ì¦ê³¼ ì¸ê°€ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

```tsx
// ProtectRouter.tsx
import React, { ReactElement } from "react";
import { Navigate, Outlet } from "react-router-dom";

interface IProtectRouterProps {
  isAllow: boolean;
  redirectPath: string;
  children?: ReactElement;
}

const ProtectRouter = ({
  isAllow,
  redirectPath,
  children
}: IProtectRouterProps) => {
  if (!isAllow) {
    return <Navigate to={redirectPath} replace />;
  }

  return children ? children : <Outlet />;
};

export default ProtectRouter;

// Router.tsx
const Routers = () => {
  const { isLogin } = useRecoilValue(userState);
  return (
    <Routes>
      <Route path="/" element={<MainLayout />}>
        <Route
          element={
            <ProtectRouter isAllow={isLogin} redirectPath={"/auth/login"} />
          }
        >
          <Route path="/" element={<Main />}>
            <Route path=":todoId" element={<ToDoDetail />} />
          </Route>
          <Route path="/logout" element={<Logout />} />
        </Route>
        <Route
          element={<ProtectRouter isAllow={!isLogin} redirectPath={"/"} />}
        >
          <Route path="auth">
            <Route path="login" element={<Login />} />
            <Route path="signup" element={<SignUp />} />
          </Route>
        </Route>
      </Route>
      <Route path="*" element={<PageNotFound />} />
    </Routes>
  );
};

export default Routers;
```

Whatê³¼ Howë¥¼ ë¶„ë¦¬í•˜ì˜€ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. **RouterëŠ” ë¬´ì—‡ì„ ë³´ì—¬ì¤„ì§€ì—ë§Œ ì§‘ì¤‘í•˜ê³  ProtectRouterì—ê²Œ ì–´ë–»ê²Œ ë³´ì—¬ì¤„ì§€**ë§Œ ì§‘ì¤‘í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ì˜ˆìƒì¹˜ ëª»í•˜ê²Œë„ ProtectRouterë¥¼ ì ìš©í•˜ë‹ˆê¹Œ ì œê°€ ë¬¸ì œë¼ê³  ìƒê°í–ˆë˜ ë¶€ë¶„ì´ ì „ë¶€ í•´ê²°ë˜ì—ˆìŠµë‹ˆë‹¤. ì •ë§ ì ê¹ì˜ í™”ë©´ ê¹œë°•ì„ì€ ìˆì§€ë§Œ isLoginì´ falseì—ì„œ trueê°€ ë˜ë©´ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œë“¤ì´ ëª¨ë‘ ì‚¬ë¼ì¡ŒìŠµë‹ˆë‹¤. ë•ë¶„ì— PageNotFound ì»´í¬ë„ŒíŠ¸ë„ í˜ì´ì§€ê°€ ì—†ë‹¤ëŠ” **ë©”ì‹œì§€ë¥¼ ë³´ì—¬ì£¼ëŠ” ì—­í• ì—ë§Œ ì§‘ì¤‘** í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ìƒê°ë³´ë‹¤ ì„ ì–¸ì  í”„ë¡œê·¸ë˜ë°ì´ ì£¼ëŠ” íš¨ê³¼ê°€ ì¢‹ë„¤ìš”.

https://user-images.githubusercontent.com/44064122/184263974-a831a3c9-f8a9-44b9-afff-6f2f8a3090be.mov

### "ì ì ˆíˆ ì¶”ìƒí™” ë˜ì§€ ì•Šì€ í•¨ìˆ˜ì™€ ì»´í¬ë„ŒíŠ¸" ë¶€ë¶„ ì ìš©í•´ë³´ê¸°

#### useFetchë¥¼ ë§Œë“¤ì–´ì„œ ë¹„ë™ê¸° í†µì‹  ì½”ë“œ ì¤‘ë³µ ì¤„ì´ê¸°

ì„œë²„ì™€ í†µì‹ ì„ ìœ„í•´ ReactQueryë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤. ë·°ì™€ ë¹„ë™ê¸° ë¡œì§ì˜ ê²°í•©ì„ ë¶„ë¦¬í•˜ê¸° ìœ„í•´ì„œ get, post, put, delete, login, signup ë“±ì˜ í›…ì„ ê°œë³„ì ìœ¼ë¡œ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ í›…ì—ì„œ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œê°€ ê³„ì† ë°˜ë³µë˜ì—ˆìŠµë‹ˆë‹¤. ë§Œì•½ headersë‚˜ urlì˜ ë³€ê²½ì´ ìˆì„ ê²½ìš°ì— ê´€ë ¨ëœ ë¡œì§ ì „ë¶€ë¥¼ ìˆ˜ì •í•´ì£¼ì–´ì•¼í•©ë‹ˆë‹¤.

```ts
(body) => {
  const response = await fetch("http://localhost:8080/users/login", {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify(body)
  });
  return response.json();
};
```

ê·¸ë˜ì„œ useFetchë¥¼ ë§Œë“¤ì–´ì„œ ìœ„ì˜ ì˜ˆì‹œë¥¼ ì¶”ìƒí™” í•˜ì˜€ìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ê´€ë ¨ëœ useFetchì— ì˜ì¡´í•˜ë„ë¡ ë¡œì§ì„ ì „ë¶€ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤. urlì´ë‚˜ headersì˜ ë³€ê²½ì´ ìˆìœ¼ë©´ ì‰½ê²Œ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- useFetch

```ts
const useFetch = <T extends unknown>(baseUrl: string) => {
  const { token } = useRecoilValue(userState);

  const getData = async (subUrl: string) => {
    const url = `${baseUrl}${subUrl}`;

    const response = await fetch(url, {
      method: "GET",
      headers: {
        "Content-Type": "application/json",
        Authorization: token
      }
    });

    const { data } = await response.json();
    return data;
  };

  const putData = async (subUrl: string, body: T) => {
    const url = `${baseUrl}${subUrl}`;

    const response = await fetch(url, {
      method: "PUT",
      headers: {
        "Content-Type": "application/json",
        Authorization: token
      },
      body: JSON.stringify(body)
    });

    const { data } = await response.json();

    return data;
  };

  const postData = async (subUrl: string, body: T) => {
    const url = `${baseUrl}${subUrl}`;

    const response = await fetch(url, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: token
      },
      body: JSON.stringify(body)
    });

    const { data } = await response.json();

    return data;
  };

  const deleteData = async (subUrl: string) => {
    const url = `${baseUrl}${subUrl}`;
    const response = await fetch(url, {
      method: "DELETE",
      headers: {
        "Content-Type": "application/json",
        Authorization: token
      }
    });
    const { data } = await response.json();
    return data;
  };

  return { getData, putData, postData, deleteData };
};
```

- ìˆ˜ì • ì˜ˆì‹œ

```typescript
const useLogin = () => {
  const { postData } = useFetch(api.baseUrl);

  return useMutation<LoginData, Error, LoginVariable, unknown>(
    // ì´ ë¶€ë¶„ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.
    (body) => postData(`/users/login`, body)
  );
};
```

ê·¸ëŸ°ë° ë§Œë“¤ë©´ì„œ ì‚¬ìš©í•˜ë‹¤ë³´ë‹ˆê¹Œ ìƒê°ë³´ë‹¤ Whatê³¼ Howì˜ ë¶„ë¦¬ê°€ ê·¸ë ‡ê²Œ ì˜ ëœ ê²ƒ ê°™ì§€ ì•Šë‹¤ëŠ” ìƒê°ì´ ë“¤ì—ˆìŠµë‹ˆë‹¤.

- ì¼ë‹¨ http option ë³€ê²½ì´ ìœ ì—°í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
- ì´ìƒí•˜ê²Œ ì œë„¤ë¦­ íƒ€ì…ì— ëŒ€í•œ íƒ€ì… ì¶”ë¡ ì´ ìë™ìœ¼ë¡œ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

> ì°¸ê³ í•œ ê¸€
> [ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì œë„¤ë¦­ í•¨ìˆ˜ì²˜ëŸ¼ ì“°ê¸°](https://ui.toast.com/weekly-pick/ko_20210505)

#### useCotrolTodoFormì—ì„œ form ê²€ì¦ ì½”ë“œ ì œê±°í•˜ê¸°

useControlTodoFormì€ contorled formì„ ì œì–´í•˜ê¸° ìœ„í•œ ì»¤ìŠ¤í…€ í›…ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ isTitle, setIsTitleì€ ë§¥ë½ìƒ ë¬´ì—‡ì„ ìœ„í•œ ìƒíƒœì¸ì§€ë¥¼ ì•Œê¸° ì–´ë µìŠµë‹ˆë‹¤. ë˜í•œ contorled formì„ ì œì–´í•˜ê¸° ìœ„í•œ ëª©ì ì—ì„œ ë²—ì–´ë‚œ ë“¯ ë³´ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ë‹¨ì¼ ì±…ì„ ì›ì¹™ì„ ì ìš©í•˜ì—¬ í•´ë‹¹ ë¶€ë¶„ì„ ì‚­ì œí•˜ì˜€ìŠµë‹ˆë‹¤.

```typescript
// ì‚­ì œ

const useControlTodoForm = () => {
  /* ì‚­ì œ
  const [isTitle, setIsTitle] = useState<null | boolean>(null); 
  */
  const [title, setTitle] = useState("");
  const [content, setContent] = useState("");

  const handleTitleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    setTitle(e.currentTarget.value);
  };

  const handleContentChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {
    setContent(e.currentTarget.value);
  };

  return {
    /*ì‚­ì œ
    isTitle,
    setIsTitle,
    */
    title,
    setTitle,
    content,
    setContent,
    handleTitleChange,
    handleContentChange
  };
};

export default useControlTodoForm;
```

#### FormContainerì— Headless UI ê°œë… ì ìš©í•´ë³´ê¸°

[FormContainer](./client/src/Components/FormContainer.tsx)ëŠ” Form ìš”ì†Œë¥¼ ë‹´ê³  ìˆëŠ” ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤. form, label, inputë“±ì˜ ì»´í¬ë„ŒíŠ¸ëŠ” HTMLAttributeë¥¼ ìƒì†ë°›ê³  ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ styled-componetsë¥¼ ì ìš©í•˜ë©´ì„œ ê¸°ë³¸ ìŠ¤íƒ€ì¼ì´ ì ìš©ë˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ì‚¬ì‹¤ stlyed-componetsëŠ” ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì† ë°›ì•„ ìƒˆë¡œìš´ ìŠ¤íƒ€ì¼ì„ ë®ì–´ì“¸ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— êµ³ì´ ìŠ¤íƒ€ì¼ì„ ì œê±°í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ Headless UIì˜ ê°œë…ì„ ì ìš©í•´ë³´ê¸° ìœ„í•´ì„œ ê¸°ëŠ¥ë§Œ ë‚¨ê²¨ ë†“ì•˜ìŠµë‹ˆë‹¤. ìŠ¤íƒ€ì¼ì€ [mixin](./client/src/lib/styled/style.ts)ìœ¼ë¡œ ê¸°ë³¸ì ì¸ ì‚¬í•­ì„ ì ìš©í•©ë‹ˆë‹¤. ë‚˜ë¨¸ì§€ ì„¸ë¶€ ìŠ¤íƒ€ì¼ì€ styled-componentsë¡œ ì œì–´í•©ë‹ˆë‹¤.

### ê¸°íƒ€

#### ì™œ response.json()ì€ ì™œ anyì¼ê¹Œìš”?

response.json()ë¥¼ return í•˜ëŠ” í•¨ìˆ˜ì— return typeì„ Promise\<TData\>ë¡œ ì§€ì •í–ˆëŠ”ë° íƒ€ì…ì´ ì§€ì •ë˜ì§€ê°€ ì•Šì•˜ë‹¤.

[ì¬í˜„ ì½”ë“œ](https://stackblitz.com/edit/react-ts-1mwpyv?embed=1&file=useFetch.tsx)

ê·¸ëŸ°ë° [ë‹µë³€](https://github.com/starkoora/wanted-pre-onboarding-challenge-fe-1/issues/16#issuecomment-1219297743)ì´ ë„ˆë¬´ ê°„ë‹¨í–ˆë‹¤.

ê²°ë¡  ë¶€í„° ë§ì”€ë“œë¦¬ìë©´ response.jsonì˜ ë¦¬í„´íƒ€ì…ì´ Promise\<any\> ë¼ì„œ ê·¸ë ‡ìŠµë‹ˆë‹¤

```typescript
// lib.dom.d.ts
interface Body {
  readonly body: ReadableStream<Uint8Array> | null;
  readonly bodyUsed: boolean;
  arrayBuffer(): Promise<ArrayBuffer>;
  blob(): Promise<Blob>;
  formData(): Promise<FormData>;
  json(): Promise<any>;
  text(): Promise<string>;
}
```

ê·¸ë˜ì„œ íƒ€ì… ë‹¨ì–¸ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í–ˆë‹¤.

#### \<T extends unknown\>ì€ ì™œ ì‚¬ìš©í• ê¹Œ?

ì›í‹°ë“œ í”„ë¦¬ì˜¨ë³´ë”© ìˆ˜ì—… ë„ì¤‘ ì˜¬ë ¸ë˜ ì§ˆë¬¸ì— ë‚´ê°€ ì˜¬ë¦° ì½”ë“œë¥¼ ë³´ê³  ë‹¤ë¥¸ ìˆ˜ê°•ìƒ ë¶„ì´ ì§ˆë¬¸ì„ ì£¼ì…¨ë‹¤.

> í˜¹ì‹œ ì¬í˜„ ì½”ë“œì—ì„œ jsxë¥¼ ë¦¬í„´í•˜ì§€ ì•ŠëŠ”ë° tsê°€ ì•„ë‹Œ tsxí™•ì¥ìë¡œ í•˜ì‹  ì´ìœ ê°€ ìˆì„ê¹Œìš”??
> ê·¸ë¦¬ê³  ì œë„¤ë¦­ íƒ€ì… ì§€ì •í•´ì£¼ì‹¤ ë•Œ TData extends unknownë¥¼ í•˜ì‹  ì´ìœ ë„ ê¶ê¸ˆí•©ë‹ˆë‹¤!

[íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ : response.json()ì€ ì™œ anyì¼ê¹Œìš”? Â· Issue #16 Â· starkoora/wanted-pre-onboarding-challenge-fe-1](https://github.com/starkoora/wanted-pre-onboarding-challenge-fe-1/issues/16#issuecomment-1219366250)

ì‚´ì´ ë–¨ë ¸ë‹¤. ì‚¬ì‹¤ extendsê°€ ìƒì†ì„ ë°›ê¸° ìœ„í•œ ë¬¸ë²•ì´ë¼ê³  ëŒ€ê°• ì•Œê³ ë§Œ ìˆì„ ë¿â€¦ unknown íƒ€ì…ì´ ê·¸ëƒ¥ ìˆë‹¤ê³  ë§Œ ì•Œê³ ìˆê³  .d.ts íŒŒì¼ ë³´ë©´ TData = unknownì´ë¼ê³  ë§ì´ ì¼ê¸¸ë˜ ê·¸ëƒ¥ ë”°ë¼ ì“´ê²ƒì¼ ë¿ ì‚¬ì‹¤ ì •í™•í•œ ì´ìœ ë¥¼ ëª¨ë¥´ê³  ê·¸ëƒ¥ ì¼ë‹¤. ê·¸ë˜ì„œ ê³¼ì œë¥¼ í•´ì•¼í•˜ëŠ”ë°â€¦ ê·¸ëƒ¥ unknownì´ ë­”ì§€ë¶€í„° ì£½ì¹˜ê³  ì•‰ì•„ì„œ ì°¾ì•„ë³´ê¸° ì‹œì‘í–ˆë‹¤.

ë‚˜ë¦„ ì°¾ì€ ê²°ê³¼ë‹¤.

1. Typescriptì—ì„œ unknownì€ íƒ€ì… ì´ë¡ ì— ë”°ë¼ ìµœìƒìœ„ íƒ€ì…ì´ë¼ê³  í•©ë‹ˆë‹¤. (ë°˜ë©´ì— neverëŠ” ìµœí•˜ìœ„ íƒ€ì…) ê·¸ë˜ì„œ ëª¨ë“  íƒ€ì…ì€ unknownì´ë¼ê³  í•©ë‹ˆë‹¤.(unknownì´ ëª¨ë“  íƒ€ì…ì´ ë  ìˆ˜ ìˆëŠ”ê±´ì§€ ëª¨ë“  íƒ€ì…ì´ unknownì¸ê±´ì§€... í–‡ê°ˆë¦¬ë„¤ìš”)
   - ì•„í‹°í´ : [When to use `never` and `unknown` in TypeScript](https://blog.logrocket.com/when-to-use-never-and-unknown-in-typescript-5e4d6c5799ad/)
   - ê³µì‹ë¬¸ì„œ [New unknown top type](https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-0.html#new-unknown-top-type)
2. JSXì—ì„œ í™•ì¥ëœ TSXë¥¼ ì‚¬ìš©í•  ê²½ìš° \<T\>ê°€ ì»´íŒŒì¼ëŸ¬ê°€ ì½ì„ ë•Œ ë¶ˆë¶„ëª…í•œ ë¶€ë¶„ì´ ìˆì–´ì„œ ì»´íŒŒì¼ëŸ¬ì—ê²Œ Generic íƒ€ì…ì´ë¼ëŠ” ê²ƒì„ ì•Œë ¤ì£¼ê¸° ìœ„í•´ì„œ \<T extends unknown\>ì´ë¼ê³  ì•Œë ¤ì£¼ê¸° ìœ„í•´ì„œë¼ê³  í•©ë‹ˆë‹¤.
   - [íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì—ì„œ í•¨ìˆ˜ ë¬¸ë²•](https://ui.toast.com/weekly-pick/ko_20210521#%EC%A0%9C%EB%84%A4%EB%A6%AD)
3. TSXì—ì„œ ì‚¬ìš©í•  ë•Œ \<T\>ì™€ \<T extends unknown\>ì˜ ì°¨ì´ëŠ” ì—†ë‹¤ê³  í•©ë‹ˆë‹¤. (1ë²ˆì— ë”°ë¥´ë©´ ìˆ˜ê¸ì´ ë©ë‹ˆë‹¤.)
   - [TypeScript Generic Types and How to Properly Implement Them](https://medium.com/swlh/typescript-generic-types-and-how-to-properly-implement-them-498519a8ab65)
4. unknownì€ Type safeë¥¼ ìœ„í•´ì„œ ì‚¬ìš©í•œë‹¤ê³  í•©ë‹ˆë‹¤. (ì´ê±´ ì§ˆë¬¸ ë‚´ìš©ê³¼ëŠ” ê´€ë ¨ì´ ì—†ì§€ë§Œ ê·¸ëƒ¥ unknownì´ ë­”ì§€ ì°¾ë‹¤ê³  ê¼¬ë¦¬ë¥¼ ë¬¼ë‹¤ê°€ ë°œê²¬í•´ì„œ...)
   - [Type-Safe TypeScript](https://dev.to/mistval/type-safe-typescript-4a6f)
   - [Using the unknown type](https://learntypescript.dev/03/l7-unknown)

## í•œê³„ì  ë° ê°œì„  ì‚¬í•­

- ì—ëŸ¬ ë°”ìš´ë”ë¦¬ ì²˜ë¦¬ê°€ ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ë¦¬ì—‘íŠ¸ 16.0ë¶€í„° ì œê³µí•˜ëŠ” ì—ëŸ¬ ë°”ìš´ë”ë¦¬ë¥¼ ì ìš©í•´ë³´ë ¤ê³  í–ˆì§€ë§Œ ì ìš©í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.

## ìê¸° ì†Œê°œ

í”„ë¡ íŠ¸ ì•¤ë“œ ê°œë°œì ê³ í˜„ìˆ˜ì…ë‹ˆë‹¤.

- ì €ëŠ” ì¢‹ì€ ì½”ë“œë¥¼ ì‘ì„±í•˜ê¸° ìœ„í•´ ì´ë¯¸ ì™„ì„±ëœ ì½”ë“œë¥¼ ëŒì•„ë³´ê³  ê°œì„ í•˜ë ¤ê³  ë…¸ë ¥í•©ë‹ˆë‹¤. ë°”ë‹ë¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ [í”„ë¡œì íŠ¸ë¥¼ 3ë²ˆ ë¦¬í™í† ë§](https://github.com/movie42/ychung) í•´ë³´ê³  ê·¸ í”„ë¡œì íŠ¸ë¥¼ [ë¦¬ì•¡íŠ¸ì™€ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•´ì„œ ë§ˆì´ê·¸ë ˆì´ì…˜ í•œ ê²½í—˜](https://github.com/movie42/ychung-frontend)ì´ ìˆìŠµë‹ˆë‹¤.
- í•¨ê»˜ ì¼í•˜ê³  ëŒ€í™”ë¥¼ í†µí•´ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•©ë‹ˆë‹¤. UX/UI ë””ìì´ë„ˆë¡œ 7ê°œì›”ê°„ ì¬ì§í•˜ë©´ì„œ íŠ¹ìˆ˜êµìœ¡ì²­ ë‹´ë‹¹ìì™€ ë§ì€ ëŒ€í™”ë¥¼ í†µí•´ ì‚¬ìš©ìì˜ ë¶ˆí¸í•¨ì„ ê°œì„ í•œ ê²½í—˜ì´ ìˆìŠµë‹ˆë‹¤. ê³¼ê±° ì˜í™”ë¥¼ í•˜ë©´ì„œ í•œ ì˜í™”ë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ë§ì€ ì‚¬ëŒë“¤ê³¼ ëŒ€í™”ë¥¼ í†µí•´ ë¬¸ì œë¥¼ í•´ê²°í•œ ê²½í—˜ì´ ìˆìŠµë‹ˆë‹¤.
- ë°°ìš´ ê²ƒì„ ìƒê°í•´ë³´ê³  ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ [ê³µìœ í•˜ê³  ìˆìŠµë‹ˆë‹¤](https://movie42.github.io/blog). ê³µìœ ë¥¼ í†µí•´ ì§€ì‹ì€ ê°œì„ ë˜ê³  ë°œì „ëœë‹¤ê³  ë¯¿ê³  ìˆìŠµë‹ˆë‹¤.
- í˜¹ì‹œ ì €ì˜ ì½”ë“œë¥¼ ë³´ì‹œê³  ì±„ìš©ì— ê´€ì‹¬ì´ ìˆìœ¼ì‹œë©´ ì–¸ì œë“ ì§€ ì—°ë½ì£¼ì„¸ìš”.

> [ì´ë ¥ì„œ](https://movie42.github.io/resume)  
> email : movie3342@gmail.com  
> github : https://github.com/movie42  
> blog : https://movie42.github.io

## ë¶€ë¡

[ë°°ìš´ê±° ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì—ë„ ì ìš©í•´ë³´ê¸°](https://github.com/movie42/ychung-frontend/wiki/API-%ED%98%B8%EC%B6%9C-%ED%95%A8%EC%88%98-%EB%8C%80%EC%88%98%EC%88%A0)  
[ê³¼ì œ ì„¤ëª…](https://github.com/starkoora/wanted-pre-onboarding-challenge-fe-1-api)
